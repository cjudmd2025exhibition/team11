// Stadium Page - i18n Data Extension
const stadiumI18nData = {
  ko: {
    // Hero Section
    heroTitle: "어디서 경기를 볼 수 있나요?",
    heroSubtitle: "한국 야구를 즐길 수 있는 곳을 탐험해보세요! 각 구장은 독특한 분위기를 제공합니다. 번화한 서울부터 매력적인 소도시까지, 경기를 관람하기에 완벽한 장소를 찾아보세요. 각 구장의 좌석, 시설 및 분위기를 확인하여 최적의 장소를 선택하세요.",
    
    // Side Nav
    navSeoul: "서울",
    navSuwon: "수원",
    navIncheon: "인천",
    navDaejeon: "대전",
    navBusan: "부산",
    navChangwon: "창원",
    navGwangju: "광주",
    navDaegu: "대구",
    
    // Seoul
    seoulTitle: "서울종합운동장\n야구장",
    seoulDesc: "KBO 리그의 두산 베어스와 LG 트윈스의 홈구장으로 사용되며, 흔히 잠실 야구장이라고 불립니다.",
    seoulLocation: "서울시 송파구 올림픽로 19-2",
    
    // Suwon
    suwonTitle: "수원 KT 위즈 파크",
    suwonDesc: "KT 위즈의 홈구장으로, 2015년에 개장한 현대적인 구장입니다. 최첨단 시설과 모든 좌석에서 훌륭한 시야를 제공합니다.",
    suwonLocation: "경기도 수원시 팔달구 수원로 1",
    
    // Incheon
    incheonTitle: "인천\nSSG 랜더스 필드",
    incheonDesc: "SSG 랜더스의 아름다운 해안가 구장입니다. 인천에 위치하며 주변 지역의 멋진 전망을 제공하고, 훌륭한 음식 옵션으로 유명합니다.",
    incheonLocation: "인천시 미추홀구 문미로 618",
    
    // Daejeon
    daejeonTitle: "대전 한화생명\n이글스파크",
    daejeonDesc: "한화 이글스의 홈구장으로, 대한민국 중부에 위치하며 팬들이 경기에 가까이 느낄 수 있는 친밀한 분위기를 조성합니다.",
    daejeonLocation: "대전시 중구 대종로 42",
    
    // Busan (Sajik)
    busanTitle: "사직\n야구장",
    busanDesc: "부산에 위치한 롯데 자이언츠의 홈구장입니다. 한국 야구에서 가장 열정적인 팬들로 유명하며, 이곳의 분위기는 정말 짜릿합니다.",
    busanLocation: "부산시 동래구 사직로 45",
    
    // Changwon
    changwonTitle: "창원 NC 파크",
    changwonDesc: "NC 다이노스가 경기하는 창원의 현대적인 시설입니다. 편안한 좌석과 프리미엄 야구 경험을 위한 우수한 편의시설을 갖추고 있습니다.",
    changwonLocation: "경남 창원시 창원로 361",
    
    // Gwangju
    gwangjuTitle: "광주-기아\n챔피언스 필드",
    gwangjuDesc: "한국에서 가장 성공적인 팀 중 하나인 KIA 타이거즈의 홈구장입니다. 광주에 있는 이 구장은 헌신적인 팬들과 함께 전통적인 야구 경험을 제공합니다.",
    gwangjuLocation: "광주시 북구 임방울로 1",
    
    // Daegu
    daeguTitle: "대구 삼성\n라이온즈 파크",
    daeguDesc: "대구에 있는 삼성 라이온즈의 홈구장입니다. 열정적인 관중과 우수한 시설로 유명하며, 잊을 수 없는 야구 경험을 제공합니다.",
    daeguLocation: "대구시 수성구 장등로 125"
  },
  en: {
    // Hero Section
    heroTitle: "WHERE CAN I WATCH A GAME?",
    heroSubtitle: "Explore where to enjoy Korean Baseball! Each stadium offers a unique vibe. From bustling Seoul to charming smaller cities, find the perfect spot to watch. Check each stadium's seating, facilities, and atmosphere to pick the best place for you.",
    
    // Side Nav
    navSeoul: "Seoul",
    navSuwon: "Suwon",
    navIncheon: "Incheon",
    navDaejeon: "Daejeon",
    navBusan: "Busan",
    navChangwon: "Changwon",
    navGwangju: "Gwangju",
    navDaegu: "Daegu",
    
    // Seoul
    seoulTitle: "Seoul Sports Complex Baseball Stadium",
    seoulDesc: "It is used as the home ground for the KBO League's Doosan Bears and LG Twins, and is commonly referred to as Jamsil Baseball Stadium.",
    seoulLocation: "19-2, Songpa-gu, Seoul Sports Complex",
    seoulTeams: "Teams: Doosan Bears, LG Twins",

    // Suwon
    suwonTitle: "Suwon KT Wiz Park",
    suwonDesc: "Home to the KT Wiz, this modern stadium in Suwon opened in 2015. It features cutting-edge facilities and offers excellent sightlines from every seat.",
    suwonLocation: "1 Suwon-ro, Paldal-gu, Suwon",
    suwonTeam: "Team: KT Wiz",

    // Incheon
    incheonTitle: "Incheon SSG Landers Field",
    incheonDesc: "The SSG Landers call this beautiful waterfront stadium home. Located in Incheon, it offers stunning views of the surrounding area and is known for great food options.",
    incheonLocation: "618 Munemi-ro, Michuhol-gu, Incheon",
    incheonTeam: "Team: SSG Landers",

    // Daejeon
    daejeonTitle: "Daejeon Hanwha Life Ballpark",
    daejeonDesc: "Home of the Hanwha Eagles, this stadium in central South Korea creates an intimate atmosphere where fans feel close to the action.",
    daejeonLocation: "42 Daejong-ro, Jung-gu, Daejeon",
    daejeonTeam: "Team: Hanwha Eagles",
    
    // Busan (Sajik)
    busanTitle: "Sajik Baseball Stadium",
    busanDesc: "Located in Busan, home to the Lotte Giants. Known for having some of the most passionate fans in Korean baseball, the atmosphere here is truly electric.",
    busanLocation: "45 Sajik-ro, Dongnae-gu, Busan",
    busanTeam: "Team: Lotte Giants",
    
    // Changwon
    changwonTitle: "Changwon NC Park",
    changwonDesc: "The NC Dinos play at this modern facility in Changwon. It features comfortable seating and excellent amenities for a premium baseball experience.",
    changwonLocation: "361 Changwon-ro, Changwon",
    changwonTeam: "Team: NC Dinos",

    // Gwangju
    gwangjuTitle: "Gwangju-KIA Champions Field",
    gwangjuDesc: "Home of the KIA Tigers, one of the most successful teams in Korea. Located in Gwangju, this stadium offers a traditional baseball experience with dedicated fans.",
    gwangjuLocation: "1 Imbangul-ro, Buk-gu, Gwangju",
    gwangjuTeam: "Team: KIA Tigers",

    // Daegu
    daeguTitle: "Daegu Samsung Lions Park",
    daeguDesc: "Home to the Samsung Lions in Daegu. Famous for its passionate crowd and excellent facilities, it offers an unforgettable baseball experience.",
    daeguLocation: "125 Jangdeung-ro, Suseong-gu, Daegu",
    daeguTeam: "Team: Samsung Lions",
  }
};

// --- JavaScript Logic (Unmodified) ---

// Function to handle i18n (assuming it's loaded elsewhere, e.g., script.js or included here for completeness)
// This is a minimal implementation for demonstration, assuming a more robust one exists.
const i18nMap = { ...i18nData, ...stadiumI18nData };

function applyI18n(lang) {
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (i18nMap[lang] && i18nMap[lang][key]) {
            element.textContent = i18nMap[lang][key];
        }
    });
}

// Language selector event listeners
document.querySelectorAll('.lang-menu li, .lang-toggle-btn').forEach(item => {
    item.addEventListener('click', function() {
        const lang = this.getAttribute('data-lang');
        localStorage.setItem('selectedLang', lang);
        applyI18n(lang);
        // Additional logic for visual feedback (e.g., closing menu, updating button text)
    });
});

// Apply saved language on load
const savedLang = localStorage.getItem('selectedLang') || 'ko';
applyI18n(savedLang);


// --- STADIUM Page Specific Logic ---

const sections = document.querySelectorAll('.stadium-section');
const sideNav = document.querySelector('.side-nav');
const navLinks = document.querySelectorAll('.side-nav a');

// Helper to get the top position of an element relative to the document
const getElementTop = (element) => element.getBoundingClientRect().top + window.pageYOffset;

/*
// REMOVED: Function to determine which section is currently active (updateActiveNav)
function updateActiveNav() { ... } 
*/

// Function to toggle the side nav visibility based on scroll position
function toggleSideNav() {
  const heroHeight = document.querySelector('.stadium-hero').offsetHeight;
  if (window.pageYOffset > heroHeight * 0.7) {
    sideNav.classList.add('visible');
  } else {
    sideNav.classList.remove('visible');
  }
}

// Smooth scrolling for side navigation links
navLinks.forEach(link => {
  link.addEventListener('click', function(e) {
    e.preventDefault();
    const targetId = this.getAttribute('href');
    const targetSection = document.querySelector(targetId);
    if (targetSection) {
      // Calculate scroll position (e.g., to 100px from the top)
      const offsetTop = targetSection.offsetTop;
      const targetScrollPosition = offsetTop - 100; // Adjust for sticky header/offset
      
      window.scrollTo({
        top: targetScrollPosition,
        behavior: 'smooth'
      });
      /* REMOVED: Active class manipulation 
      navLinks.forEach(l => l.classList.remove('active'));
      link.classList.add('active'); 
      */
    }
  });
});

// Listen to scroll events
window.addEventListener('scroll', () => {
  toggleSideNav();
  /* REMOVED: Active nav update logic 
  clearTimeout(scrollUpdateTimeout);
  scrollUpdateTimeout = setTimeout(() => {
    updateActiveNav();
  }, 50);
  */
});

// Initial updates
toggleSideNav();
/* REMOVED: Initial updateActiveNav() call */


// Intersection Observer for fade-in animations
const observerOptions = {
  threshold: 0.15,
  rootMargin: '0px 0px -80px 0px'
};

const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.style.opacity = '1';
      entry.target.style.transform = 'translateY(0)';
    }
  });
}, observerOptions);

// Observe all stadium sections
sections.forEach(section => {
  section.style.opacity = '0';
  section.style.transform = 'translateY(40px)';
  section.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
  observer.observe(section);
});

// Hero section animation
const heroContent = document.querySelector('.hero-content');
if (heroContent) {
  heroContent.style.opacity = '0';
  heroContent.style.transform = 'translateY(20px)';
  heroContent.style.transition = 'opacity 1s ease, transform 1s ease';
  setTimeout(() => {
    heroContent.style.opacity = '1';
    heroContent.style.transform = 'translateY(0)';
  }, 100);
}